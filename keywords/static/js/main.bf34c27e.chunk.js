(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(65)},25:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(16),c=a.n(s),r=(a(25),a(1)),i=a(2),l=a(4),u=a(3),m=a(5),h=a(8),p=(a(27),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"conversation-search"},o.a.createElement("input",{type:"search",className:"conversation-search-input",placeholder:"Search Messages"}))}}]),t}(n.Component)),d=a(17),b=(a(29),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){Object(d.a)(".conversation-snippet",20)}},{key:"render",value:function(){var e=this.props.data,t=e.photo,a=e.name,n=e.text;return o.a.createElement("div",{className:"conversation-list-item"},o.a.createElement("img",{className:"conversation-photo",src:t,alt:"conversation"}),o.a.createElement("div",{className:"conversation-info"},o.a.createElement("h1",{className:"conversation-title"},a),o.a.createElement("p",{className:"conversation-snippet"},n)))}}]),t}(n.Component)),f=(a(31),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.leftItems,n=e.rightItems;return o.a.createElement("div",{className:"toolbar"},o.a.createElement("div",{className:"left-items"},a),o.a.createElement("h1",{className:"toolbar-title"},t),o.a.createElement("div",{className:"right-items"},n))}}]),t}(n.Component)),v=(a(33),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.icon;return o.a.createElement("i",{className:"toolbar-button ".concat(e)})}}]),t}(n.Component)),g=a(18),j=a.n(g),O=(a(54),n.Component,a(56),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleKeyPress=function(e){"Enter"===e.key&&(window.location.reload(),fetch("https://a1b64b58.ngrok.io/data",{method:"POST",body:JSON.stringify({uuid:localStorage.getItem("uuid"),response:e.target.value})}),console.log(e.target.value))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"compose"},o.a.createElement("input",{type:"text",className:"compose-input",placeholder:"Type a message, @name",onKeyPress:this.handleKeyPress}),this.props.rightItems)}}]),t}(n.Component)),y=a(7),E=a.n(y),k=(a(59),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isMine,n=e.startsSequence,s=e.endsSequence,c=e.showTimestamp,r=E()(t.timestamp).format("LLLL");return o.a.createElement("div",{className:["message","".concat(a?"mine":""),"".concat(n?"start":""),"".concat(s?"end":"")].join(" ")},c&&o.a.createElement("div",{className:"timestamp"},r),o.a.createElement("div",{className:"bubble-container"},o.a.createElement("div",{className:"bubble",title:r},t.message)))}}]),t}(n.Component)),N=(a(61),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getMessages=function(e){a.setState(function(t){return Object(h.a)({},t,{messages:e,author:e[e.length-1].author})})},a.state={messages:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("uuid");void 0===t&&(t=Math.random().toString(),localStorage.setItem("uuid",t)),fetch("https://a1b64b58.ngrok.io/data?uuid="+t).then(function(e){return e.json()}).then(function(t){return e.getMessages(t.map(function(e,t){return{id:t,author:e[0],message:e[1],timestamp:(new Date).getTime()}}))})}},{key:"renderMessages",value:function(){for(var e=0,t=this.state.messages.length,a=[];e<t;){var n=this.state.messages[e-1],s=this.state.messages[e],c=this.state.messages[e+1];console.log(this.state.author);var r=s.author===this.state.author,i=E()(s.timestamp),l=!0,u=!0,m=!0;if(n){var h=E()(n.timestamp),p=E.a.duration(i.diff(h));n.author===s.author&&p.as("hours")<1&&(l=!1),p.as("hours")<1&&(m=!1)}if(c){var d=E()(c.timestamp),b=E.a.duration(d.diff(i));c.author===s.author&&b.as("hours")<1&&(u=!1)}a.push(o.a.createElement(k,{key:e,isMine:r,startsSequence:l,endsSequence:u,showTimestamp:m,data:s})),e+=1}return a}},{key:"render",value:function(){return o.a.createElement("div",{className:"message-list"},o.a.createElement(f,{title:"Conversation Title",rightItems:[o.a.createElement(v,{key:"info",icon:"ion-ios-information-circle-outline"}),o.a.createElement(v,{key:"video",icon:"ion-ios-videocam"}),o.a.createElement(v,{key:"phone",icon:"ion-ios-call"})]}),o.a.createElement("div",{className:"message-list-container"},this.renderMessages()),o.a.createElement(O,{rightItems:[o.a.createElement(v,{key:"photo",icon:"ion-ios-camera"}),o.a.createElement(v,{key:"image",icon:"ion-ios-image"}),o.a.createElement(v,{key:"audio",icon:"ion-ios-mic"}),o.a.createElement(v,{key:"money",icon:"ion-ios-card"}),o.a.createElement(v,{key:"games",icon:"ion-logo-game-controller-b"}),o.a.createElement(v,{key:"emoji",icon:"ion-ios-happy"})]}))}}]),t}(n.Component)),w=(a(63),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"messenger"},o.a.createElement("div",{className:"scrollable sidebar"},o.a.createElement("h1",null,"INSTRUCTIONS")),o.a.createElement("div",{className:"scrollable content"},o.a.createElement(N,null)))}}]),t}(n.Component)),S=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(w,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.bf34c27e.chunk.js.map